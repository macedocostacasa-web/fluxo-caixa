<mxfile host="app.diagrams.net" modified="2025-09-30T11:09:40.698839" agent="Python" version="24.7.10">
  <diagram id="diag1" name="Technology — Final Implementation">
    <mxGraphModel>
      <root>
        <mxCell id="0"/>
        <mxCell id="1" parent="0"/>
      <mxCell id="fd" value="Front Door" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FCA5A5;strokeColor=#1C1C1E;fontSize=12;" parent="1" vertex="1">
        <mxGeometry x="20" y="20" width="120" height="50" as="geometry"/>
      </mxCell>
      <mxCell id="waf" value="WAF" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FCA5A5;strokeColor=#1C1C1E;fontSize=12;" parent="1" vertex="1">
        <mxGeometry x="160" y="20" width="100" height="50" as="geometry"/>
      </mxCell>
      <mxCell id="apim" value="API Management" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FCA5A5;strokeColor=#1C1C1E;fontSize=12;" parent="1" vertex="1">
        <mxGeometry x="280" y="20" width="150" height="50" as="geometry"/>
      </mxCell>
      <mxCell id="api" value="App Service
API Lançamentos" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#93C5FD;strokeColor=#1C1C1E;fontSize=12;" parent="1" vertex="1">
        <mxGeometry x="460" y="20" width="180" height="60" as="geometry"/>
      </mxCell>
      <mxCell id="func" value="Azure Functions
Consolidador" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#93C5FD;strokeColor=#1C1C1E;fontSize=12;" parent="1" vertex="1">
        <mxGeometry x="460" y="100" width="180" height="60" as="geometry"/>
      </mxCell>
      <mxCell id="sb" value="Service Bus
Topic: lancamentos
Sub: consolidador" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#A7F3D0;strokeColor=#1C1C1E;fontSize=12;" parent="1" vertex="1">
        <mxGeometry x="280" y="120" width="150" height="70" as="geometry"/>
      </mxCell>
      <mxCell id="cos" value="Cosmos DB
Containers: lancamentos, saldosDiarios" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#A7F3D0;strokeColor=#1C1C1E;fontSize=12;" parent="1" vertex="1">
        <mxGeometry x="680" y="20" width="220" height="70" as="geometry"/>
      </mxCell>
      <mxCell id="redis" value="Azure Cache for Redis
TTL curto (saldo diário)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#A7F3D0;strokeColor=#1C1C1E;fontSize=12;" parent="1" vertex="1">
        <mxGeometry x="680" y="110" width="220" height="60" as="geometry"/>
      </mxCell>
      <mxCell id="blob" value="Azure Blob Storage
Export relatórios/histórico" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#A7F3D0;strokeColor=#1C1C1E;fontSize=12;" parent="1" vertex="1">
        <mxGeometry x="680" y="180" width="220" height="60" as="geometry"/>
      </mxCell>
      <mxCell id="kv" value="Key Vault
(Managed Identity)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FCA5A5;strokeColor=#1C1C1E;fontSize=12;" parent="1" vertex="1">
        <mxGeometry x="920" y="20" width="150" height="50" as="geometry"/>
      </mxCell>
      <mxCell id="mon" value="Azure Monitor / Log Analytics
+ App Insights" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#C7D2FE;strokeColor=#1C1C1E;fontSize=12;" parent="1" vertex="1">
        <mxGeometry x="920" y="90" width="220" height="70" as="geometry"/>
      </mxCell>
      <mxCell id="e1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" edge="1" source="fd" target="waf">
        <mxGeometry relative="1" as="geometry"/>
      </mxCell>
      <mxCell id="e2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" edge="1" source="waf" target="apim">
        <mxGeometry relative="1" as="geometry"/>
      </mxCell>
      <mxCell id="e3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" edge="1" source="apim" target="api">
        <mxGeometry relative="1" as="geometry"/>
      </mxCell>
      <mxCell id="e4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" edge="1" source="api" target="sb">
        <mxGeometry relative="1" as="geometry"/>
      </mxCell>
      <mxCell id="e5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" edge="1" source="sb" target="func">
        <mxGeometry relative="1" as="geometry"/>
      </mxCell>
      <mxCell id="e6" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" edge="1" source="func" target="cos">
        <mxGeometry relative="1" as="geometry"/>
      </mxCell>
      <mxCell id="e7" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" edge="1" source="func" target="redis">
        <mxGeometry relative="1" as="geometry"/>
      </mxCell>
      <mxCell id="e8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" edge="1" source="api" target="kv">
        <mxGeometry relative="1" as="geometry"/>
      </mxCell>
      <mxCell id="e9" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" edge="1" source="func" target="kv">
        <mxGeometry relative="1" as="geometry"/>
      </mxCell>
      <mxCell id="e10" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" edge="1" source="api" target="mon">
        <mxGeometry relative="1" as="geometry"/>
      </mxCell>
      <mxCell id="e11" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" edge="1" source="func" target="mon">
        <mxGeometry relative="1" as="geometry"/>
      </mxCell>
      <mxCell id="e12" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" edge="1" source="cos" target="mon">
        <mxGeometry relative="1" as="geometry"/>
      </mxCell>
      <mxCell id="e13" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" edge="1" source="redis" target="mon">
        <mxGeometry relative="1" as="geometry"/>
      </mxCell>
      <mxCell id="e14" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" edge="1" source="func" target="blob">
        <mxGeometry relative="1" as="geometry"/>
      </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
